# LettaBot Configuration
# Copy this to lettabot.yaml and fill in your values.
# 
# Server modes:
# - 'api': Use Letta API (api.letta.com) with API key
# - 'docker': Use a Docker/custom Letta server
# Legacy aliases still accepted: 'cloud', 'selfhosted'

server:
  mode: api
  # For api mode, set your API key (get one at https://app.letta.com):
  apiKey: sk-let-YOUR-API-KEY
  # For docker mode, uncomment and set the base URL:
  # mode: docker
  # baseUrl: http://localhost:8283

agent:
  name: LettaBot
  # displayName: "ðŸ’œ Signo"  # Prefix outbound messages (useful in multi-agent group chats)
  # Note: model is configured on the Letta agent server-side.
  # Select a model during `lettabot onboard` or change it with `lettabot model set <handle>`.

conversations:
  mode: shared        # shared (single conversation) or per-channel
  heartbeat: last-active
  # perChannel: ["bluesky"]  # Always use a separate conversation for these channels

# BYOK Providers (optional, api mode only)
# These will be synced to Letta API on startup
# providers:
#   - id: anthropic
#     name: lc-anthropic
#     type: anthropic
#     apiKey: sk-ant-YOUR-ANTHROPIC-KEY
#   - id: openai
#     name: lc-openai
#     type: openai
#     apiKey: sk-YOUR-OPENAI-KEY

channels:
  telegram:
    enabled: true
    token: YOUR-TELEGRAM-BOT-TOKEN
    dmPolicy: pairing  # 'pairing', 'allowlist', or 'open'
    # groupPollIntervalMin: 5       # Batch interval for group messages (default: 10)
    # instantGroups: ["-100123456"] # Groups that bypass batching
    # Group access + response mode:
    # groups:
    #   "*": { mode: listen }                      # Observe all groups; only reply when @mentioned
    #   "-1001234567890": { mode: open }           # This group gets all messages
    #   "-1009876543210": { mode: mention-only }   # Drop unless @mentioned
    # mentionPatterns: ["hey bot"]                  # Additional regex patterns for mention detection
  # slack:
  #   enabled: true
  #   appToken: xapp-...
  #   botToken: xoxb-...
  #   groups:
  #     "*": { mode: listen }
  #     "C0123456789": { mode: open }
  # discord:
  #   enabled: true
  #   token: YOUR-DISCORD-BOT-TOKEN
  #   groups:
  #     "*": { mode: listen }
  #     "1234567890123456789": { mode: open }  # Server or channel ID
  # whatsapp:
  #   enabled: true
  #   selfChat: false
  # bluesky:
  #   enabled: true
  #   # autoReply: true  # Enable auto-replies (default: false / read-only)
  #   wantedDids: ["did:plc:..."]
  #   # groups:
  #   #   "*": { mode: listen }
  #   #   "did:plc:...": { mode: open }
  #   # lists:
  #   #   "at://did:plc:.../app.bsky.graph.list/xyz": { mode: listen }
  #   # wantedCollections: ["app.bsky.feed.post"]
  #   # notifications:
  #   #   enabled: true
  #   #   intervalSec: 60
  #   #   reasons: ["mention", "reply", "quote"]
  #   # jetstreamUrl: wss://jetstream2.us-east.bsky.network/subscribe
  #   # handle: you.bsky.social
  #   # appPassword: xxxx-xxxx-xxxx-xxxx
  #   # serviceUrl: https://bsky.social

features:
  cron: false
  heartbeat:
    enabled: false
    intervalMin: 30
    # skipRecentUserMin: 5   # Skip auto-heartbeats for N minutes after user message (0 disables)

# Attachment handling (defaults to 20MB if omitted)
# attachments:
#   maxMB: 20
#   maxAgeDays: 14
